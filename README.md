# SPS-P generated by C++
This is a static site generator for the experiment of SPS-P model simulation. You can simulate it with arbitrary K parameters and the number of step.

The results are hosted on firebase.
- https://sps-p-research.web.app/
- https://sps-p-research.firebaseapp.com/

## Usage
```
$ make && ./generator [options] > [output].html

// Example
$ make && ./generator -k1 1.0 0.9 0.9 0.8 > result.html
```

## Options
```
generator [ -k1 k00 k01 k10 k11 ] [ -k2 ka kb kp km ] [ -seed number ] [ -gen number ] [ -csv ] [-csve] [ -dist ]

-k1: K parameters to what extent person i prefers person j.
-k2: K parameters to what extent person i prefers person j.
  kij = {
    ka (1<=i<=25, 1<=j<=25)
    kp + km (1<=i<=25, 26<=j<=50)
    kp - km (26<=i<=50, 1<=j<=25)
    kb (26<=i<=50, 26<=j<=50)
  }
-seed: Used when generate random positions for an initialization. A default seed is 1. The same result comes with the same seed value.
-gen: The number of max steps.
-cycle: The length of 1 cycle for periodic boundary condition. It is useless for open boundary condition.
-seed: The seed number to be used for generating random number. Default value is 1.
-dynamic: The flag to change the K parameters dinamicallybased on static energy/dynamic energy. Default is static optimization which means to use static energy.
-init: The initial state for all particles. -init random indicates that all particles starts with a random K parameter. -init zero indicates that all particles starts with 0.
-json: Output a json file for creating images by utils.
```

## Utils
- stackplot.py: Generate an image from a json file. It is used for K parameters. 
  - usage: stackplot.py [-h] -src SRC -out OUT
- logplot.py: Generate an image from a json file. It is used for static energy and dynamic energy.
  - usage: logplot.py [-h] -src SRC -out OUT
- loglogplot.py: Generate an image from a json file. It is used for X and V.
  - usage: loglogplot.py [-h] -src SRC -out OUT
- headmap.py: Plot 2d histgram with x-axis, y-axis, and z-axis.
  - usage: heatmap.py [-h] -title TITLE [-src SRC] [-x X] [-y Y] [-z Z] [-print [PRINT]]


## Develop
Results are hosted by firebase. `public/` is the root directory for the website.

```
$ firebase deploy
```

### Dependencies
- matplotlib
- numpy
- npm
- firebase-tools
